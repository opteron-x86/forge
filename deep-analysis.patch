diff --git a/server.js b/server.js
index 8a06b40..920664e 100644
--- a/server.js
+++ b/server.js
@@ -1214,6 +1214,70 @@ Be data-driven. Reference actual numbers from the workout logs. Keep the whole r
   }
 });
 
+// â”€â”€ Deep Analysis (premium, higher token budget + richer prompt) â”€â”€
+
+app.post("/api/coach/analysis", requireAuth, async (req, res) => {
+  if (!aiProvider) return res.status(503).json({ error: "AI coach unavailable â€” no provider configured" });
+  const { context } = req.body;
+
+  const system = `You are an elite strength & conditioning coach performing a comprehensive training analysis. You have access to detailed training logs spanning up to 90 days, including set-by-set data, PR progressions, volume trends, recovery indicators, and the user's stated goals.
+
+Your analysis should feel like a high-end coaching consultation â€” data-driven, specific, and actionable. Reference actual numbers from the logs throughout.
+
+STRUCTURE YOUR ANALYSIS WITH THESE SECTIONS:
+
+**Executive Summary**
+2-3 sentences: overall training status, trajectory, and the single most important thing to address.
+
+**Strength Progression**
+- Which lifts are progressing, stalling, or regressing? Reference e1RM trends by month.
+- Rate of progression vs expected for their experience level.
+- Flag any lifts that haven't improved despite consistent training (true plateaus).
+
+**Volume & Balance**
+- Weekly set volume per muscle group over the last 4 weeks. Is it trending up, down, or steady?
+- Flag muscle groups that are significantly under- or over-represented relative to their goals.
+- Push/pull ratio, upper/lower balance, anterior/posterior chain balance.
+- Are they hitting minimum effective volume? Approaching maximum recoverable volume?
+
+**Training Patterns**
+- Frequency analysis: sessions per week, consistency, any gaps or clustering.
+- Program adherence: are they following their program or deviating? Is deviation helping or hurting?
+- Exercise selection quality for their stated goals.
+
+**Recovery & Fatigue**
+- Interpret feel ratings over time â€” trending up (adapting well) or down (accumulating fatigue)?
+- Sleep data trends if available.
+- Session duration trends â€” are workouts getting longer (junk volume?) or staying efficient?
+- Any signs of overreaching: declining performance + declining feel ratings.
+
+**Periodization Assessment**
+- Are they cycling intensity/volume appropriately, or just grinding the same stimulus?
+- Recommend a deload if indicators suggest one is needed.
+- Suggest when to change programming phases based on progression data.
+
+**Action Plan**
+5-7 specific, prioritized recommendations for the next 2-4 weeks. Each should reference the data point that drove the recommendation. Format as numbered items with clear rationale.
+
+IMPORTANT GUIDELINES:
+- Be brutally data-driven. Every claim must reference actual numbers from the logs.
+- Don't pad with generic advice. Everything should be specific to THIS user's data.
+- If data is insufficient for a section, say so briefly and move on â€” don't fabricate analysis.
+- Use their stated goal to frame all recommendations (e.g., if goal is hypertrophy, prioritize volume analysis; if strength, prioritize 1RM trends).
+- Be direct and confident in your coaching voice. This is a premium analysis, not a chatbot response.`;
+
+  try {
+    const result = await aiProvider.chat(system, [
+      { role: "user", content: context },
+    ], { maxTokens: 4000 });
+    trackEvent(req.user.id, "coach_deep_analysis");
+    res.json({ report: result.text });
+  } catch (e) {
+    console.error("Deep analysis error:", e.message);
+    res.status(500).json({ error: e.message });
+  }
+});
+
 // ===================== EXPORT =====================
 
 app.get("/api/export", requireAuth, (req, res) => {
diff --git a/src/context/TalosContext.jsx b/src/context/TalosContext.jsx
index 6bb722b..d47df5c 100644
--- a/src/context/TalosContext.jsx
+++ b/src/context/TalosContext.jsx
@@ -31,7 +31,7 @@ const TalosContext = createContext();
  * - editingProgram / setEditingProgram: program editor state
  * - setActiveProgramId(id): set the active program
  * - coachHistory / setCoachHistory: AI coach conversation messages (persisted)
- * - coachMode / setCoachMode: current coach tab mode (chat/program/weekly)
+ * - coachMode / setCoachMode: current coach tab mode (chat/analysis)
  */
 export function useTalos() {
   const ctx = useContext(TalosContext);
diff --git a/src/pages/CoachPage.jsx b/src/pages/CoachPage.jsx
index 440747f..8c6983f 100644
--- a/src/pages/CoachPage.jsx
+++ b/src/pages/CoachPage.jsx
@@ -2,6 +2,10 @@
 // AI Coach with persistent conversation history, multi-turn context,
 // and server-side message storage. State is lifted to App.jsx context
 // so it survives tab navigation.
+//
+// Modes:
+//   chat     â€” conversational coaching (last 10 workouts context)
+//   analysis â€” deep training analysis (full history, higher token budget)
 
 import { useState, useRef, useEffect } from "react";
 import { useTalos } from "../context/TalosContext";
@@ -31,13 +35,18 @@ export default function CoachPage() {
 
   const [prompt, setPrompt] = useState("");
   const [loading, setLoading] = useState(false);
-  const [programPreview, setProgramPreview] = useState(null);
-  const [programSaving, setProgramSaving] = useState(false);
   const [copiedId, setCopiedId] = useState(null);
   const [showClearConfirm, setShowClearConfirm] = useState(false);
   const threadEndRef = useRef(null);
   const textareaRef = useRef(null);
 
+  // Migrate legacy coachMode values on mount
+  useEffect(() => {
+    if (coachMode === "program" || coachMode === "weekly") {
+      setCoachMode("chat");
+    }
+  }, []);
+
   // Auto-scroll to bottom when new messages arrive
   useEffect(() => {
     if (threadEndRef.current) {
@@ -54,7 +63,7 @@ export default function CoachPage() {
       prs[ex.name] = { weight: s.weight, reps: s.reps, e1rm: e, date: w.date };
   })));
 
-  // â”€â”€ Build context string for AI â”€â”€
+  // â”€â”€ Build context string for chat (last 10 workouts) â”€â”€
   function buildContext() {
     const recent = workouts.slice(-10);
     const programCtx = programs.filter(p => p.user_id === user.id).map(p =>
@@ -83,7 +92,6 @@ export default function CoachPage() {
     const recentExNames = new Set();
     workouts.slice(-10).forEach(w => w.exercises?.forEach(ex => recentExNames.add(ex.name)));
 
-    // Import EXERCISES from exercises.js
     const exerciseMeta = [...recentExNames].slice(0, 20).map(name => {
       const ex = EXERCISES.find(e => e.name === name);
       return ex ? `${name} (${ex.muscle}, ${ex.equipment}, ${ex.type})` : name;
@@ -98,6 +106,135 @@ export default function CoachPage() {
     RECENT (${recent.length}):\n${recent.map(w => `${w.date} ${w.day_label || ""} (Feel:${w.feel}/5)\n${w.exercises?.map(e => `  ${e.name}: ${e.sets?.map(s => `${s.weight}x${s.reps}`).join(", ")}`).join("\n") || ""}`).join("\n\n")}`;
   }
 
+  // â”€â”€ Build deep analysis context (full history, volume trends, PR timeline) â”€â”€
+  function buildDeepContext() {
+    const age = profile.dateOfBirth ? Math.floor((Date.now() - new Date(profile.dateOfBirth + "T12:00:00").getTime()) / 31557600000) : null;
+    const profileLines = [
+      `Name: ${user.name}`,
+      profile.sex ? `Sex: ${profile.sex}` : null,
+      age ? `Age: ${age}` : null,
+      profile.height ? `Height: ${profile.height}` : null,
+      profile.weight ? `Weight: ${profile.weight} lbs` : null,
+      profile.bodyFat ? `Body Fat: ${profile.bodyFat}%` : null,
+      profile.goal ? `Goal: ${profile.goal}` : null,
+      profile.targetWeight ? `Target Weight: ${profile.targetWeight} lbs` : null,
+      profile.experienceLevel ? `Experience: ${profile.experienceLevel}` : null,
+      profile.trainingIntensity ? `Training Intensity: ${profile.trainingIntensity}` : null,
+      profile.caloriesTarget ? `Calorie Target: ${profile.caloriesTarget} kcal/day` : null,
+      profile.proteinTarget ? `Protein Target: ${profile.proteinTarget}g/day` : null,
+      profile.equipmentPreference ? `Equipment: ${profile.equipmentPreference.replace('_', ' ')}` : null,
+    ].filter(Boolean).join(", ");
+    const injuryLines = profile.injuriesNotes ? `INJURIES/LIMITATIONS: ${profile.injuriesNotes}` : "";
+    const targetPrLines = profile.targetPrs && Object.keys(profile.targetPrs).length > 0
+      ? `TARGET PRs:\n${Object.entries(profile.targetPrs).filter(([, v]) => v).map(([k, v]) => `${k}: ${v} lbs`).join("\n")}` : "";
+
+    // Programs
+    const programCtx = programs.filter(p => p.user_id === user.id).map(p =>
+      `${p.name}${p.description ? ` (${p.description})` : ""}:\n${p.days?.map((d, i) =>
+        `  Day ${i + 1} â€” ${d.label || "Untitled"}${d.subtitle ? ` (${d.subtitle})` : ""}: ${d.exercises?.map(e => `${e.name} ${e.defaultSets}x${e.targetReps || "?"}`).join(", ") || "no exercises"}`
+      ).join("\n") || "no days"}`
+    ).join("\n\n");
+
+    // Use up to 90 days of workouts for deep analysis (vs 10 for chat)
+    const ninetyDaysAgo = new Date(); ninetyDaysAgo.setDate(ninetyDaysAgo.getDate() - 90);
+    const deepWorkouts = workouts.filter(w => new Date(w.date + "T12:00:00") >= ninetyDaysAgo);
+
+    // Compute volume per muscle group per week (last 4 weeks)
+    const weeklyVolume = {};
+    for (let i = 0; i < 4; i++) {
+      const end = new Date(); end.setDate(end.getDate() - i * 7);
+      const start = new Date(); start.setDate(start.getDate() - (i + 1) * 7);
+      const label = i === 0 ? "This Week" : i === 1 ? "Last Week" : `${i + 1} Weeks Ago`;
+      const weekWorkouts = workouts.filter(w => {
+        const d = new Date(w.date + "T12:00:00");
+        return d >= start && d < end;
+      });
+      const muscles = {};
+      weekWorkouts.forEach(w => w.exercises?.forEach(ex => {
+        const meta = EXERCISES.find(e => e.name === ex.name);
+        const muscle = meta?.muscle || "Other";
+        const sets = ex.sets?.length || 0;
+        muscles[muscle] = (muscles[muscle] || 0) + sets;
+      }));
+      weeklyVolume[label] = { sessions: weekWorkouts.length, muscles };
+    }
+
+    // PR progression timeline â€” best e1RM per exercise per month
+    const prTimeline = {};
+    workouts.forEach(w => w.exercises?.forEach(ex => ex.sets?.forEach(s => {
+      if (!s.weight || !s.reps) return;
+      const e1rm = est1RM(s.weight, s.reps);
+      if (!prTimeline[ex.name]) prTimeline[ex.name] = [];
+      prTimeline[ex.name].push({ date: w.date, weight: s.weight, reps: s.reps, e1rm });
+    })));
+    const prTrends = {};
+    Object.entries(prTimeline).forEach(([name, entries]) => {
+      const best = {};
+      entries.forEach(e => {
+        const monthKey = e.date.substring(0, 7);
+        if (!best[monthKey] || e.e1rm > best[monthKey].e1rm) best[monthKey] = e;
+      });
+      const sorted = Object.entries(best).sort(([a], [b]) => a.localeCompare(b));
+      if (sorted.length >= 2) {
+        prTrends[name] = sorted.slice(-4).map(([month, d]) => `${month}: ${d.weight}x${d.reps} (e1RM: ${Math.round(d.e1rm)})`);
+      }
+    });
+
+    // Frequency analysis
+    const totalSessions = deepWorkouts.length;
+    const spanDays = deepWorkouts.length >= 2
+      ? Math.max(1, Math.round((new Date(deepWorkouts[deepWorkouts.length - 1].date + "T12:00:00") - new Date(deepWorkouts[0].date + "T12:00:00")) / 86400000))
+      : 0;
+    const avgFreq = spanDays > 0 ? (totalSessions / spanDays * 7).toFixed(1) : "N/A";
+
+    // Feel trend
+    const feelEntries = deepWorkouts.filter(w => w.feel).map(w => ({ date: w.date, feel: w.feel }));
+    const recentFeel = feelEntries.slice(-10);
+
+    // Exercise metadata
+    const allExNames = new Set();
+    deepWorkouts.forEach(w => w.exercises?.forEach(ex => allExNames.add(ex.name)));
+    const exerciseMeta = [...allExNames].slice(0, 30).map(name => {
+      const ex = EXERCISES.find(e => e.name === name);
+      return ex ? `${name} (${ex.muscle}, ${ex.equipment}, ${ex.type})` : name;
+    }).join("\n");
+
+    // Format detailed workout logs: last 30 days full detail, older condensed
+    const thirtyDaysAgo = new Date(); thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
+    const recentDetailed = deepWorkouts.filter(w => new Date(w.date + "T12:00:00") >= thirtyDaysAgo);
+    const olderCondensed = deepWorkouts.filter(w => new Date(w.date + "T12:00:00") < thirtyDaysAgo);
+
+    const recentLogs = recentDetailed.map(w =>
+      `${w.date} ${w.day_label || ""} (Feel:${w.feel || "?"}/5, Sleep:${w.sleep_hours || "?"}h, Duration:${w.duration || "?"}min)\n${w.exercises?.map(e => `  ${e.name}: ${e.sets?.map(s => `${s.weight}x${s.reps}${s.rpe ? ` @${s.rpe}` : ""}`).join(", ")}`).join("\n") || ""}`
+    ).join("\n\n");
+
+    const olderLogs = olderCondensed.map(w =>
+      `${w.date} ${w.day_label || ""} (Feel:${w.feel || "?"}/5) â€” ${w.exercises?.map(e => `${e.name}: ${e.sets?.length || 0}s`).join(", ") || "no data"}`
+    ).join("\n");
+
+    return `USER PROFILE: ${profileLines}
+${injuryLines}
+${targetPrLines}
+
+PROGRAMS:\n${programCtx || "None"}
+
+ALL-TIME PRs:\n${Object.entries(prs).slice(0, 20).map(([k, v]) => `${k}: ${v.weight}x${v.reps} (e1RM: ${Math.round(v.e1rm || 0)}) â€” set ${v.date}`).join("\n")}
+
+PR TRENDS (monthly best e1RM):\n${Object.entries(prTrends).slice(0, 15).map(([name, months]) => `${name}: ${months.join(" â†’ ")}`).join("\n") || "Not enough data"}
+
+TRAINING FREQUENCY: ${avgFreq} sessions/week over ${spanDays} days (${totalSessions} total sessions in 90-day window)
+
+WEEKLY VOLUME (sets per muscle, last 4 weeks):\n${Object.entries(weeklyVolume).map(([week, data]) => `${week} (${data.sessions} sessions): ${Object.entries(data.muscles).map(([m, s]) => `${m}:${s}`).join(", ") || "no sessions"}`).join("\n")}
+
+FEEL TREND (recent 10): ${recentFeel.map(f => `${f.date}:${f.feel}/5`).join(", ") || "No data"}
+
+EXERCISE INFO:\n${exerciseMeta}
+
+DETAILED LOGS (last 30 days, ${recentDetailed.length} sessions):\n${recentLogs || "No sessions"}
+
+${olderCondensed.length > 0 ? `OLDER LOGS (30-90 days, ${olderCondensed.length} sessions):\n${olderLogs}` : ""}`;
+  }
+
   // â”€â”€ Persist message to server â”€â”€
   async function persistMessage(msg) {
     try {
@@ -123,7 +260,6 @@ export default function CoachPage() {
     setLoading(true);
 
     try {
-      // Send recent chat history for multi-turn context
       const chatHistory = coachHistory.filter(m => m.type === "chat" && m.response);
       const data = await api.post("/coach", {
         prompt: q,
@@ -142,78 +278,17 @@ export default function CoachPage() {
     setLoading(false);
   }
 
-  // â”€â”€ Program builder â”€â”€
-  async function buildProgram(q) {
-    if (!q?.trim()) return;
+  // â”€â”€ Deep Analysis â”€â”€
+  async function generateDeepAnalysis() {
     const msgId = genId();
-    const newMsg = { id: msgId, type: "program", prompt: q, response: null, created_at: new Date().toISOString() };
+    const newMsg = { id: msgId, type: "analysis", prompt: "Deep Training Analysis", response: null, created_at: new Date().toISOString() };
 
     setCoachHistory(prev => [...prev, newMsg]);
-    setPrompt("");
     setLoading(true);
-    setProgramPreview(null);
-
-    try {
-      const data = await api.post("/coach/program", { prompt: q, context: buildContext() });
-      if (data.program) {
-        setProgramPreview(data);
-        const responseText = `Generated: **${data.program.name}**\n${data.program.description || ""}\n\n${data.program.days?.map((d, i) => `Day ${i + 1} â€” ${d.label}: ${d.exercises?.map(e => e.name).join(", ")}`).join("\n")}${data.commentary ? `\n\n${data.commentary}` : ""}`;
-        const completedMsg = { ...newMsg, response: responseText };
-        setCoachHistory(prev => prev.map(m => m.id === msgId ? completedMsg : m));
-        await persistMessage(completedMsg);
-      } else {
-        const responseText = data.commentary || "Could not generate program. Try being more specific.";
-        const completedMsg = { ...newMsg, response: responseText };
-        setCoachHistory(prev => prev.map(m => m.id === msgId ? completedMsg : m));
-        await persistMessage(completedMsg);
-      }
-    } catch (e) {
-      const errorMsg = { ...newMsg, response: "Error: " + e.message };
-      setCoachHistory(prev => prev.map(m => m.id === msgId ? errorMsg : m));
-    }
-    setLoading(false);
-  }
 
-  async function saveProgramFromPreview() {
-    if (!programPreview?.program) return;
-    setProgramSaving(true);
     try {
-      await saveProgram({
-        id: null,
-        name: programPreview.program.name,
-        description: programPreview.program.description || "",
-        days: programPreview.program.days,
-        shared: false,
-      });
-      setProgramPreview(null);
-    } catch (e) {
-      console.error("Save error:", e.message);
-    }
-    setProgramSaving(false);
-  }
-
-  // â”€â”€ Weekly report â”€â”€
-  async function generateWeeklyReport() {
-    const msgId = genId();
-    const newMsg = { id: msgId, type: "weekly", prompt: "Weekly Training Report", response: null, created_at: new Date().toISOString() };
-
-    setCoachHistory(prev => [...prev, newMsg]);
-    setLoading(true);
-
-    const context = buildContext();
-    const weekAgo = new Date(); weekAgo.setDate(weekAgo.getDate() - 7);
-    const thisWeek = workouts.filter(w => new Date(w.date + "T12:00:00") >= weekAgo);
-    const twoWeeksAgo = new Date(); twoWeeksAgo.setDate(twoWeeksAgo.getDate() - 14);
-    const lastWeek = workouts.filter(w => {
-      const d = new Date(w.date + "T12:00:00");
-      return d >= twoWeeksAgo && d < weekAgo;
-    });
-
-    const weeklyCtx = `${context}\n\nTHIS WEEK (${thisWeek.length} sessions):\n${thisWeek.map(w => `${w.date} ${w.day_label || ""} (Feel:${w.feel}/5, Sleep:${w.sleep_hours || "?"}h, Duration:${w.duration || "?"}min)\n${w.exercises?.map(e => `  ${e.name}: ${e.sets?.map(s => `${s.weight}x${s.reps}`).join(", ")}`).join("\n") || ""}`).join("\n\n")}\n\nPREVIOUS WEEK (${lastWeek.length} sessions):\n${lastWeek.map(w => `${w.date} ${w.day_label || ""} (Feel:${w.feel}/5)\n${w.exercises?.map(e => `  ${e.name}: ${e.sets?.map(s => `${s.weight}x${s.reps}`).join(", ")}`).join("\n") || ""}`).join("\n\n")}`;
-
-    try {
-      const data = await api.post("/coach/weekly", { context: weeklyCtx });
-      const responseText = data.report || "No report generated.";
+      const data = await api.post("/coach/analysis", { context: buildDeepContext() });
+      const responseText = data.report || "No analysis generated.";
       const completedMsg = { ...newMsg, response: responseText };
       setCoachHistory(prev => prev.map(m => m.id === msgId ? completedMsg : m));
       await persistMessage(completedMsg);
@@ -232,7 +307,6 @@ export default function CoachPage() {
       console.error("Failed to clear history:", e.message);
     }
     setCoachHistory([]);
-    setProgramPreview(null);
     setShowClearConfirm(false);
   }
 
@@ -254,25 +328,24 @@ export default function CoachPage() {
     });
   }
 
-  // â”€â”€ Handle submit (route by mode) â”€â”€
+  // â”€â”€ Handle submit â”€â”€
   function handleSubmit() {
     if (coachMode === "chat") ask(prompt);
-    else if (coachMode === "program") buildProgram(prompt);
-    else if (coachMode === "weekly") generateWeeklyReport();
+    else if (coachMode === "analysis") generateDeepAnalysis();
   }
 
   function handleKeyDown(e) {
-    if (e.key === "Enter" && !e.shiftKey && coachMode !== "weekly") {
+    if (e.key === "Enter" && !e.shiftKey && coachMode === "chat") {
       e.preventDefault();
       handleSubmit();
     }
   }
 
   // â”€â”€ Filter history by current mode â”€â”€
+  // Legacy: "program" messages show under chat, "weekly" under analysis
   const filteredHistory = coachHistory.filter(m => {
-    if (coachMode === "chat") return m.type === "chat";
-    if (coachMode === "program") return m.type === "program";
-    if (coachMode === "weekly") return m.type === "weekly";
+    if (coachMode === "chat") return m.type === "chat" || m.type === "program";
+    if (coachMode === "analysis") return m.type === "analysis" || m.type === "weekly";
     return true;
   });
 
@@ -287,19 +360,26 @@ export default function CoachPage() {
   function TypeBadge({ type }) {
     const cfg = {
       chat: { icon: "âš¡", color: "var(--accent)" },
-      program: { icon: "ðŸ“‹", color: "#3b82f6" },
-      weekly: { icon: "ðŸ“Š", color: "#22c55e" },
+      program: { icon: "âš¡", color: "var(--accent)" },
+      analysis: { icon: "ðŸ”¬", color: "#a78bfa" },
+      weekly: { icon: "ðŸ”¬", color: "#a78bfa" },
     }[type] || { icon: "âš¡", color: "var(--accent)" };
     return (
       <span style={{
         fontSize: 9, fontWeight: 700, letterSpacing: "0.5px", textTransform: "uppercase",
         color: cfg.color, opacity: 0.8,
       }}>
-        {cfg.icon} {type}
+        {cfg.icon} {type === "weekly" ? "analysis" : type === "program" ? "chat" : type}
       </span>
     );
   }
 
+  const analysisWorkoutCount = workouts.filter(w => {
+    const d = new Date(w.date + "T12:00:00");
+    const ninetyDaysAgo = new Date(); ninetyDaysAgo.setDate(ninetyDaysAgo.getDate() - 90);
+    return d >= ninetyDaysAgo;
+  }).length;
+
   return (
     <div className="fade-in" style={{ display: "flex", flexDirection: "column", minHeight: "calc(100dvh - 130px)" }}>
       {/* â”€â”€ Header Card â”€â”€ */}
@@ -310,8 +390,8 @@ export default function CoachPage() {
             <div>
               <div style={{ fontSize: 14, fontWeight: 700, color: "var(--text-bright)" }}>AI Coach</div>
               <div style={{ fontSize: 10, color: "var(--text-dim)" }}>
-                {coachMode === "weekly"
-                  ? "7-day training analysis"
+                {coachMode === "analysis"
+                  ? `Deep analysis Â· ${analysisWorkoutCount} sessions (90 days)`
                   : `Analyzes your last ${Math.min(workouts.length, 10)} workouts`}
               </div>
             </div>
@@ -330,8 +410,7 @@ export default function CoachPage() {
         {/* Mode toggle */}
         <div style={{ display: "flex", gap: 4, background: "#171717", borderRadius: 6, padding: 3 }}>
           <button onClick={() => setCoachMode("chat")} style={{ ...S.sm(coachMode === "chat" ? "primary" : "ghost"), flex: 1, textAlign: "center" }}>ðŸ’¬ Chat</button>
-          <button onClick={() => setCoachMode("program")} style={{ ...S.sm(coachMode === "program" ? "primary" : "ghost"), flex: 1, textAlign: "center" }}>ðŸ“‹ Program</button>
-          <button onClick={() => setCoachMode("weekly")} style={{ ...S.sm(coachMode === "weekly" ? "primary" : "ghost"), flex: 1, textAlign: "center" }}>ðŸ“Š Weekly</button>
+          <button onClick={() => setCoachMode("analysis")} style={{ ...S.sm(coachMode === "analysis" ? "primary" : "ghost"), flex: 1, textAlign: "center" }}>ðŸ”¬ Deep Analysis</button>
         </div>
       </div>
 
@@ -339,7 +418,7 @@ export default function CoachPage() {
       {showClearConfirm && (
         <div style={{ ...S.card, border: "1px solid #92400e", background: "#1c1207" }}>
           <div style={{ fontSize: 12, color: "#fbbf24", marginBottom: 8 }}>Clear all conversation history?</div>
-          <div style={{ fontSize: 11, color: "var(--text-muted)", marginBottom: 10 }}>This removes all saved messages across Chat, Program, and Weekly modes.</div>
+          <div style={{ fontSize: 11, color: "var(--text-muted)", marginBottom: 10 }}>This removes all saved messages across Chat and Analysis modes.</div>
           <div style={{ display: "flex", gap: 8 }}>
             <button onClick={() => setShowClearConfirm(false)} style={{ ...S.btn("ghost"), flex: 1 }}>Cancel</button>
             <button onClick={clearHistory} style={{ ...S.btn("danger"), flex: 1 }}>Clear All</button>
@@ -361,12 +440,34 @@ export default function CoachPage() {
         </div>
       )}
 
-      {/* â”€â”€ Weekly description (only when empty) â”€â”€ */}
-      {coachMode === "weekly" && filteredHistory.length === 0 && !loading && (
+      {/* â”€â”€ Deep Analysis description (only when empty) â”€â”€ */}
+      {coachMode === "analysis" && filteredHistory.length === 0 && !loading && (
         <div style={S.card}>
-          <div style={{ fontSize: 11, color: "var(--text-light)", lineHeight: 1.5 }}>
-            Generate an AI analysis of your past 7 days â€” volume by muscle group, progression trends, recovery signals, and action items for next week.
+          <div style={{
+            display: "flex", alignItems: "center", gap: 8, marginBottom: 10,
+            padding: "8px 12px", background: "linear-gradient(135deg, rgba(167,139,250,0.1), rgba(139,92,246,0.05))",
+            borderRadius: 8, border: "1px solid rgba(167,139,250,0.2)",
+          }}>
+            <span style={{ fontSize: 20 }}>ðŸ”¬</span>
+            <div>
+              <div style={{ fontSize: 13, fontWeight: 700, color: "#a78bfa" }}>Deep Training Analysis</div>
+              <div style={{ fontSize: 10, color: "var(--text-muted)", marginTop: 1 }}>Comprehensive review using your full training history</div>
+            </div>
+          </div>
+          <div style={{ fontSize: 11, color: "var(--text-light)", lineHeight: 1.6 }}>
+            Generates an in-depth analysis of your training using up to 90 days of data â€” far more context than standard chat. Covers:
+          </div>
+          <div style={{ fontSize: 11, color: "var(--text-muted)", lineHeight: 1.6, marginTop: 6, paddingLeft: 8, borderLeft: "2px solid rgba(167,139,250,0.3)" }}>
+            Strength progression trends Â· Volume distribution by muscle group Â·
+            Training frequency patterns Â· Recovery & fatigue signals Â·
+            Muscle imbalance detection Â· Periodization analysis Â·
+            Specific action items for the next training block
           </div>
+          {analysisWorkoutCount < 5 && (
+            <div style={{ fontSize: 10, color: "#fbbf24", marginTop: 8, fontStyle: "italic" }}>
+              âš  Only {analysisWorkoutCount} session{analysisWorkoutCount !== 1 ? "s" : ""} in the last 90 days â€” analysis works best with 10+ sessions.
+            </div>
+          )}
         </div>
       )}
 
@@ -375,8 +476,8 @@ export default function CoachPage() {
         <div style={{ flex: 1, overflow: "auto", paddingBottom: 8 }}>
           {filteredHistory.map((msg) => (
             <div key={msg.id}>
-              {/* User prompt bubble */}
-              {msg.prompt && msg.type !== "weekly" && (
+              {/* User prompt bubble (chat messages only) */}
+              {msg.prompt && msg.type !== "weekly" && msg.type !== "analysis" && (
                 <div style={{ padding: "4px 16px", display: "flex", justifyContent: "flex-end" }}>
                   <div style={{
                     background: "#1e1b13", border: "1px solid #3d3520", borderRadius: "12px 12px 4px 12px",
@@ -390,14 +491,14 @@ export default function CoachPage() {
                 </div>
               )}
 
-              {/* Weekly report request bubble */}
-              {msg.type === "weekly" && (
+              {/* Analysis / Weekly request bubble */}
+              {(msg.type === "analysis" || msg.type === "weekly") && (
                 <div style={{ padding: "4px 16px", display: "flex", justifyContent: "flex-end" }}>
                   <div style={{
-                    background: "#0d1f0d", border: "1px solid #1a3a1a", borderRadius: "12px 12px 4px 12px",
+                    background: "rgba(167,139,250,0.08)", border: "1px solid rgba(167,139,250,0.2)", borderRadius: "12px 12px 4px 12px",
                     padding: "10px 14px",
                   }}>
-                    <div style={{ fontSize: 12, color: "#4ade80", fontWeight: 700 }}>ðŸ“Š Weekly Report</div>
+                    <div style={{ fontSize: 12, color: "#a78bfa", fontWeight: 700 }}>ðŸ”¬ Deep Analysis</div>
                     <div style={{ fontSize: 9, color: "var(--text-dim)", marginTop: 4, textAlign: "right" }}>
                       {timeAgo(msg.created_at)}
                     </div>
@@ -438,12 +539,12 @@ export default function CoachPage() {
                     background: "var(--surface)", border: "1px solid var(--border)", borderRadius: "12px 12px 12px 4px",
                     padding: "16px", textAlign: "center",
                   }}>
-                    <div style={{ color: "var(--accent)", fontSize: 12 }}>
+                    <div style={{ color: coachMode === "analysis" ? "#a78bfa" : "var(--accent)", fontSize: 12 }}>
                       <span style={{
                         display: "inline-block", width: 6, height: 6, borderRadius: "50%",
-                        background: "var(--accent)", marginRight: 8, animation: "pulse 1.2s infinite",
+                        background: coachMode === "analysis" ? "#a78bfa" : "var(--accent)", marginRight: 8, animation: "pulse 1.2s infinite",
                       }} />
-                      {coachMode === "program" ? "Building program..." : coachMode === "weekly" ? "Analyzing 7-day data..." : "Thinking..."}
+                      {coachMode === "analysis" ? "Running deep analysis â€” this may take a moment..." : "Thinking..."}
                     </div>
                   </div>
                 </div>
@@ -457,52 +558,12 @@ export default function CoachPage() {
       {/* â”€â”€ Loading (when thread is empty) â”€â”€ */}
       {loading && filteredHistory.length === 0 && (
         <div style={{ ...S.card, textAlign: "center" }}>
-          <div style={{ color: "var(--accent)", fontSize: 12, padding: 8 }}>
+          <div style={{ color: coachMode === "analysis" ? "#a78bfa" : "var(--accent)", fontSize: 12, padding: 8 }}>
             <span style={{
               display: "inline-block", width: 6, height: 6, borderRadius: "50%",
-              background: "var(--accent)", marginRight: 8, animation: "pulse 1.2s infinite",
+              background: coachMode === "analysis" ? "#a78bfa" : "var(--accent)", marginRight: 8, animation: "pulse 1.2s infinite",
             }} />
-            Analyzing training data...
-          </div>
-        </div>
-      )}
-
-      {/* â”€â”€ Program Preview Card â”€â”€ */}
-      {programPreview?.program && (
-        <div style={S.card}>
-          <div style={{ display: "flex", alignItems: "center", gap: 8, marginBottom: 8 }}>
-            <span style={{ fontSize: 14 }}>ðŸ“‹</span>
-            <div style={S.label}>Generated Program</div>
-          </div>
-          <div style={{ fontSize: 15, fontWeight: 800, color: "var(--text-bright)", marginBottom: 2 }}>{programPreview.program.name}</div>
-          {programPreview.program.description && <div style={{ fontSize: 11, color: "var(--text-muted)", marginBottom: 8 }}>{programPreview.program.description}</div>}
-
-          {programPreview.unknownExercises?.length > 0 && (
-            <div style={{ background: "#451a03", border: "1px solid #92400e", borderRadius: 6, padding: 8, marginBottom: 8, fontSize: 11, color: "#fbbf24" }}>
-              âš  Unknown exercises: {programPreview.unknownExercises.join(", ")}
-            </div>
-          )}
-
-          {programPreview.program.days?.map((day, di) => (
-            <div key={di} style={{ background: "#171717", borderRadius: 6, padding: 10, marginBottom: 6 }}>
-              <div style={{ fontSize: 12, fontWeight: 700, color: "var(--text-bright)", marginBottom: 2 }}>
-                Day {di + 1} â€” {day.label}
-                {day.subtitle && <span style={{ fontWeight: 400, color: "var(--text-muted)" }}> ({day.subtitle})</span>}
-              </div>
-              {day.exercises?.map((ex, ei) => (
-                <div key={ei} style={{ fontSize: 11, color: "var(--text-light)", paddingLeft: 8, marginTop: 3, display: "flex", justifyContent: "space-between" }}>
-                  <span>{ex.name}</span>
-                  <span style={{ color: "var(--text-dim)" }}>{ex.defaultSets}Ã—{ex.targetReps}{ex.notes ? ` Â· ${ex.notes}` : ""}</span>
-                </div>
-              ))}
-            </div>
-          ))}
-
-          <div style={{ display: "flex", gap: 8, marginTop: 10 }}>
-            <button onClick={() => setProgramPreview(null)} style={{ ...S.btn("ghost"), flex: 1 }}>Dismiss</button>
-            <button onClick={saveProgramFromPreview} disabled={programSaving} style={{ ...S.btn("primary"), flex: 2, opacity: programSaving ? 0.5 : 1 }}>
-              {programSaving ? "Saving..." : "Save to Programs"}
-            </button>
+            {coachMode === "analysis" ? "Running deep analysis â€” this may take a moment..." : "Analyzing training data..."}
           </div>
         </div>
       )}
@@ -521,13 +582,17 @@ export default function CoachPage() {
           </div>
         )}
 
-        {coachMode === "weekly" ? (
+        {coachMode === "analysis" ? (
           <button
-            onClick={generateWeeklyReport}
+            onClick={generateDeepAnalysis}
             disabled={loading}
-            style={{ ...S.btn("primary"), width: "100%", opacity: loading ? 0.5 : 1 }}
+            style={{
+              ...S.btn("primary"), width: "100%", opacity: loading ? 0.5 : 1,
+              background: loading ? undefined : "linear-gradient(135deg, #7c3aed, #6d28d9)",
+              borderColor: "#7c3aed",
+            }}
           >
-            {loading ? "Generating report..." : "Generate Weekly Report"}
+            {loading ? "Running deep analysis..." : "ðŸ”¬ Generate Deep Analysis"}
           </button>
         ) : (
           <div style={{ display: "flex", gap: 8, alignItems: "flex-end" }}>
@@ -540,10 +605,7 @@ export default function CoachPage() {
                 ...S.input, flex: 1, minHeight: 40, maxHeight: 120, resize: "none",
                 paddingRight: 8, fontSize: 13, lineHeight: 1.4,
               }}
-              placeholder={coachMode === "program"
-                ? "Describe your program (e.g. 4-day upper/lower for hypertrophy)..."
-                : "Ask about training, nutrition, substitutions..."
-              }
+              placeholder="Ask about training, nutrition, substitutions..."
               rows={1}
             />
             <button
@@ -557,7 +619,7 @@ export default function CoachPage() {
                 whiteSpace: "nowrap",
               }}
             >
-              {loading ? "..." : coachMode === "program" ? "Build" : "Send"}
+              {loading ? "..." : "Send"}
             </button>
           </div>
         )}
