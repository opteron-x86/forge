diff --git a/server.js b/server.js
index d16c9d7..f081640 100644
--- a/server.js
+++ b/server.js
@@ -988,6 +988,8 @@ app.post("/api/coach/analyze", requireAuth, async (req, res) => {
 
   const system = `You are a concise strength training coach providing a post-workout session analysis. Analyze the just-completed workout and give brief, specific feedback.
 
+IMPORTANT: The "rpe" field in set data represents the user's chosen INTENSITY SCALE, which will be specified in the user context. If the user uses RIR (Reps In Reserve), then @1 means 1 rep left in the tank (NEAR MAXIMAL), @0 means absolute failure. If RPE (Rate of Perceived Exertion), @10 means maximal effort. Always interpret intensity values according to the specified scale.
+
 FORMAT YOUR RESPONSE IN THESE SECTIONS (skip any that aren't relevant):
 **Session Summary** — One line overview (duration, volume, energy)
 **PRs & Wins** — Any personal records or notable improvements
diff --git a/src/components/SessionSummary.jsx b/src/components/SessionSummary.jsx
index 29d37bc..730b255 100644
--- a/src/components/SessionSummary.jsx
+++ b/src/components/SessionSummary.jsx
@@ -141,6 +141,7 @@ export default function SessionSummary({ summary, onDone, onReviewSaved }) {
         profile.goal ? `Goal: ${profile.goal}` : null,
         profile.weight ? `Weight: ${profile.weight} lbs` : null,
         profile.injuriesNotes ? `Injuries: ${profile.injuriesNotes}` : null,
+        `Intensity scale: ${profile.intensityScale === "rir" ? "RIR (Reps In Reserve — lower = harder, 0 = failure)" : "RPE (Rate of Perceived Exertion — higher = harder, 10 = failure)"}`,
       ].filter(Boolean).join(", ");
 
       const context = `USER: ${profileLines}
diff --git a/src/pages/HistoryPage.jsx b/src/pages/HistoryPage.jsx
index aa933f5..bf2d885 100644
--- a/src/pages/HistoryPage.jsx
+++ b/src/pages/HistoryPage.jsx
@@ -438,6 +438,7 @@ function RequestReviewButton({ workout }) {
         profile.goal ? `Goal: ${profile.goal}` : null,
         profile.weight ? `Weight: ${profile.weight} lbs` : null,
         profile.injuriesNotes ? `Injuries: ${profile.injuriesNotes}` : null,
+        `Intensity scale: ${profile.intensityScale === "rir" ? "RIR (Reps In Reserve — lower = harder, 0 = failure)" : "RPE (Rate of Perceived Exertion — higher = harder, 10 = failure)"}`,
       ].filter(Boolean).join(", ");
 
       const context = `USER: ${profileLines}
diff --git a/src/pages/StatsPage.jsx b/src/pages/StatsPage.jsx
index 233e2ae..fb7d889 100644
--- a/src/pages/StatsPage.jsx
+++ b/src/pages/StatsPage.jsx
@@ -25,16 +25,23 @@ export default function StatsPage() {
     workouts.forEach(w => w.exercises?.forEach(ex => ex.sets?.forEach(s => {
       if (!s.weight || !s.reps) return;
       const e = est1RM(s.weight, s.reps);
-      if (!map[ex.name] || (e && e > (map[ex.name].e1rm || 0)))
-        map[ex.name] = { weight: s.weight, reps: s.reps, e1rm: e, date: w.date };
+      const weight = parseFloat(s.weight) || 0;
+      if (!map[ex.name]) map[ex.name] = { byE1rm: null, byWeight: null };
+      if (e && (!map[ex.name].byE1rm || e > map[ex.name].byE1rm.e1rm))
+        map[ex.name].byE1rm = { weight: s.weight, reps: s.reps, e1rm: e, date: w.date };
+      if (!map[ex.name].byWeight || weight > parseFloat(map[ex.name].byWeight.weight || 0))
+        map[ex.name].byWeight = { weight: s.weight, reps: s.reps, e1rm: e, date: w.date };
     })));
     return map;
   }, [workouts]);
 
   const prList = useMemo(() => {
-    const entries = Object.entries(prs);
+    const entries = Object.entries(prs).map(([name, rec]) => {
+      const pr = prMode === "e1rm" ? rec.byE1rm : rec.byWeight;
+      return pr ? [name, pr] : null;
+    }).filter(Boolean);
     if (prMode === "e1rm") return entries.sort((a, b) => (b[1].e1rm || 0) - (a[1].e1rm || 0));
-    return entries.sort((a, b) => (b[1].weight || 0) - (a[1].weight || 0));
+    return entries.sort((a, b) => (parseFloat(b[1].weight) || 0) - (parseFloat(a[1].weight) || 0));
   }, [prs, prMode]);
 
   // Recent PRs (last 30 days)
